{% extends 'base.html' %}
{% load static %}

{% block title %}Заметки{% endblock %} <!-- У меня есть: "{% url 'notes:detail_view' note.id %}" -->

{% block content %}
  <h2 class="center">Мои заметки</h2>
    <div class="notes">
        <ul class="ul-notes">
          {% for note in all_notes %}
          <li class="note">
            {% if note.status == 'ToDo' %}
              <label class="custom-checkbox">
                <input type="checkbox" class="checkbox-input" onclick="location.href = '{% url 'notes:change-task-status' note.id "Completed" %}'">
              </label>
              <span>{{ note.title }}</span> <span class="log_link"> <i>Сделать до {{ note.datetodo }}</i> </span>
            {% else %}
              <label class="custom-checkbox">
                <input type="checkbox" class="checkbox-input" onclick="location.href = '{% url 'notes:change-task-status' note.id "ToDo" %}'">
              </label>
              <span class="complete">{{ note.title }}</span> <span class="log_link"> <i>Сделать до {{ note.datetodo }}</i> </span>
            {% endif %}
          </li>
          {% empty %}
        </ul>
    </div>
    <h5 class="ah2">У вас пока нет заметок, вы можете <a href="{% url 'notes:create_view' %}">создать</a> свою первую заметку</h5>
  {% endfor %}  
{% endblock content %}
{% block domready %}
  let notes = document.querySelector('.notes');
  notes.style.left = document.body.offsetWidth / 2 - notes.offsetWidth / 2 + 'px';
  notes.addEventListener('click', event => {
    if (event.target.nodeName == 'LI') {
      alert('NOTE')
    }
    console.log(event.target)
  })

  let ul = document.querySelector('.ul-notes');
  let checkbox = document.querySelector('checkbox-input');

{% endblock domready %}